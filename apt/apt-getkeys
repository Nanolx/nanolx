#!/bin/bash

######
#
## Simple script to get required #
#  apt repository signing keys. ##
                                 #
                             #####

if [[ ${EUID} != 0 ]]; then
	echo "not root - exiting"
else
	[[ $(which wget) == "" ]] && apt-get install wget
	[[ ! -d /etc/apt/keys/ ]] && mkdir /etc/apt/keys/

	# update apt index
	apt-get update

	# Debian Multimedia signing key
	apt-get -y --force-yes install deb-multimedia-keyring

	# Liquorix signing key
	apt-get -y --force-yes install '^liquorix-([^-]+-)?keyring.?'

	# Nanolx signing key
	[[ ! -f /etc/apt/keys/nanolx.key ]] && \
		wget -q http://www.nanolx.org/apt/photonic.asc \
			-O /etc/apt/keys/nanolx.key
	apt-key add /etc/apt/keys/nanolx.key

	# Samsung unified printer driver repo signing key
	[[ ! -f /etc/apt/keys/samsung.key ]] && \
		wget -q http://www.bchemnet.com/suldr/suldr.gpg \
			-O /etc/apt/keys/samsung.key
	apt-key add /etc/apt/keys/samsung.key

	# WineHQ signing key
	[[ ! -f /etc/apt/keys/winehq.key ]] && \
		wget -q wget https://dl.winehq.org/wine-builds/Release.key \
			-O /etc/apt/keys/winehq.key
	apt-key add /etc/apt/keys/winehq.key

	# i2p signing key
	[[ -f /etc/apt/keys/i2p.key ]] && \
		rm -f /etc/apt/keys/i2p.key
	apt-get -y --force-yes install i2p-keyring

	# update apt index (again)
	apt-get update

fi
